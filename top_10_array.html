<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 10 Questions on Array</title>
</head>

<body>
    <script>


        // Expected Result: [0, 1, false, 2, undefined, '', 3, null] => [1, 2, 3]
        let ip = [0, 1, false, 2, undefined, '', 3, null];
        const compact = (array) => array.filter((el) => el);
        console.log(...[compact(ip)]);

        /////////////////////////////////////////////////////////////////////////////////////////////////

        //Task description: Write a method that creates a new array with given values
        //Expected Result: (3, 'a') => ['a', 'a', 'a']
        const fill = (arraySize, value) => new Array(arraySize).fill(value);
        console.log(...[fill(3, 'a')]);

        /////////////////////////////////////////////////////////////////////////////////////////////////

        //Task description: Write a method that returns an array without listed values 
        //  Expected Result: [1, 2, 3, 1, 2] without 1, 2 => [3] 

        const without = (array, ...args) => {
            let farray = [];
            array.filter((e) => {
                //console.log(e);
                if (e !== args[0] && e !== args[1]) {
                    farray.push(e);
                }
                //return farray;
            });
            return farray;
        }
        const data = [1, 2, 3, 1, 2];
        console.log(...[without(data, 1, 2)]);

        /////////////////////////////////////////////////////////////////////////////////////////////////

        // Task description: Write a method that returns a duplicate-free array
        // Expected Result: Duplicate-free array [1, 2, 3, 1, 2] => [1, 2, 3]

        const unique = (array) => Array.from(new Set(array));
        let array = [1, 2, 3, 1, 2];
        console.log(unique(array))

        /////////////////////////////////////////////////////////////////////////////////////////////////

        // Task description: Write a method that turns a deep array into a plain array
        // Expected Result: [1, 2, [3, 4, [5]]] => [1, 2, 3, 4, 5]

        const array1 = [1, 2, [3, 4, [5]]];
        let temp = [];
        const flatten = (array) => {
            array.reduce((a, b) => {
                if (Array.isArray(b)) {
                    flatten(b);
                }
                else
                    temp.push(b);
            }, []);
            return temp
        }

        console.log(flatten(array1));

        flatten(array1);

        /////////////////////////////////////////////////////////////////////////////////////////////////

        // Task description: Write a method that splits an array into parts of determined size
        // Expected Result: ([1, 2, 3, 4, 5], 2) => [[1, 2], [3, 4], [5]]

        const chunk = (array, size) => {
            const chunkedArr = [];
            let index = 0;
            while (index < array.length) {
                chunkedArr.push(array.slice(index, size + index));
                index += size;
            }
            return chunkedArr;
        };

        let array2 = [1, 2, 3, 4, 5];
        console.log(...chunk(array2, 3));

        /////////////////////////////////////////////////////////////////////////////////////////////////

        // Task description: Write a method that creates an array of unique values that are included in all given arrays 
        // Expected Result: ([1, 2], [2, 3]) => [2] 
        //import { isEqualDeep } from './08-is-equal-deep';

        console.log("::::::::::::::::::::::::::::::::::")
        const intersection = (...arrays) => {
            // let res=[];
            let result = arrays.reduce((a, v) => {
                console.error(a, v);
                a.filter(e => v.includes(e)); //v.includes(e));
            })
            return result;
        };

        let a1 = [1, 2], a2 = [2, 3], a3 = [1, 2, 3];
        console.log(intersection(a1, a2));

    </script>
</body>

</html>